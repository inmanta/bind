; Generated by IMP

$TTL 12h
@       IN  SOA {{ zone.master[0].host.name | cm("dns_master", "net ref") }}. {{ hostmaster | replace('@', '.') | cm("hostmaster", "global") }}. (
    {{ "now" | timestamp | cm("zone_serial", "net") }} 10800 1800 3600000 86400
)

; master(s)
{% for master in zone.master %}    IN NS {{ master.host.name | cm("dns_master", loop.index0, "net ref") }}.
{% endfor %}
; slave(s)
{% for slave in zone.slaves %}    IN NS {{ slave.host.name | cm("dns_slave", loop.index0, "net ref") }}.
{% endfor %}

{% for record in "dns::rr::Record" | get | dns::records_in_zone(zonename) | key_sort("record") %}{{ record.record | dns::filter_record(zonename) | cm("dns_record_name", loop.index0, "net") }} IN {{ record.rr_type | upper | cm("dns_record_type", loop.index0, "file") }} {{ record.value | cm("dns_record_value", loop.index0, "net ref") }}{% if record.rr_type != "a" %}.{% endif %}
{% endfor %}
