; Generated by IMP

$TTL 12h
@       IN  SOA {{ zone.master[0].host.name | std.cm("dns_master", "net ref") }}. {{ zone.hostmaster | replace('@', '.') | std.cm("hostmaster", "global") }}. (
    {{ "now" | std.timestamp | std.cm("zone_serial", "net") }} 10800 1800 3600000 86400
)

; master(s)
{% for master in zone.master %}    IN NS {{ master.host.name | std.cm("dns_master", loop.index0, "net ref") }}.
{% endfor %}
; slave(s)
{% for slave in zone.slaves %}    IN NS {{ slave.host.name | std.cm("dns_slave", loop.index0, "net ref") }}.
{% endfor %}

{% for record in "dns::rr::Record" | std.get | dns.records_in_zone(zonename) | std.key_sort("record") %}{{ record.record | dns.filter_record(zonename) | std.cm("dns_record_name", loop.index0, "net") }} IN {{ record.rr_type | upper | std.cm("dns_record_type", loop.index0, "file") }} {{ record.value | std.cm("dns_record_value", loop.index0, "net ref") }}{% if record.rr_type != "a" %}.{% endif %}
{% endfor %}
